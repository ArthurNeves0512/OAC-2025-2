`ifndef PARAM
    `include "Parametros.v"
`endif

module TopDE (
    input wire CLOCK, 
    input wire Reset,
    input wire [4:0] Regin,
    output wire ClockDIV,
    output wire [31:0] PC,
    output wire [31:0] Instr,
    output wire [31:0] Regout
);
    
    // clock cpu adaptado
    reg ClockDIV_reg;
    
    always @(posedge CLOCK or posedge Reset) begin
        if(Reset)
            ClockDIV_reg <= 1'b0;
        else
            ClockDIV_reg <= ~ClockDIV_reg;
    end
    
    assign ClockDIV = ClockDIV_reg;
    
    Pipeline PIP1 (
        .clockCPU(ClockDIV_reg), 
        .clockMem(CLOCK), 
        .reset(Reset), 
        .regin(Regin), 
        .PC(PC), 
        .Instr(Instr), 
        .regout(Regout)
    );
        
endmodule